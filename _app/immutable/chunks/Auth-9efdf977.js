import{S as R,i as x,s as z,e as _,t as j,k as T,c as b,a as w,h as k,d as m,m as L,b as r,g as B,F as n,_ as N,H as D,a1 as J,j as Y,E as q,U as K,G as Q}from"./index-a60ce940.js";import{b as C}from"./paths-396f020f.js";import{p as W}from"./stores-48bf501e.js";import{s as G}from"./AuthStore-8e5a7dcb.js";import{c as g}from"./singletons-d1fb5791.js";g.disable_scroll_handling;const M=g.goto;g.invalidate;g.prefetch;g.prefetch_routes;g.before_navigate;g.after_navigate;function X(l){let u,d,c,a,s,p,h,E,o,A,e,P,v,f,I,S,F;return{c(){u=_("h1"),d=j(l[0]),c=T(),a=_("form"),s=_("div"),p=_("label"),h=j("Email"),E=T(),o=_("input"),A=T(),e=_("input"),P=T(),v=_("div"),f=_("button"),I=j(l[0]),this.h()},l(t){u=b(t,"H1",{class:!0});var i=w(u);d=k(i,l[0]),i.forEach(m),c=L(t),a=b(t,"FORM",{class:!0});var U=w(a);s=b(U,"DIV",{class:!0});var y=w(s);p=b(y,"LABEL",{for:!0,class:!0});var H=w(p);h=k(H,"Email"),H.forEach(m),E=L(y),o=b(y,"INPUT",{type:!0,name:!0,class:!0,placeholder:!0}),A=L(y),e=b(y,"INPUT",{type:!0,name:!0,class:!0,placeholder:!0}),y.forEach(m),P=L(U),v=b(U,"DIV",{class:!0});var O=w(v);f=b(O,"BUTTON",{type:!0,class:!0});var V=w(f);I=k(V,l[0]),V.forEach(m),O.forEach(m),U.forEach(m),this.h()},h(){r(u,"class","font-bold text-center text-2xl text-gray-800"),r(p,"for","email"),r(p,"class","font-bold text-gray-800"),r(o,"type","email"),r(o,"name","email"),r(o,"class","rounded-lg shadow-sm p-2 border border-gray-200"),r(o,"placeholder","Your email"),r(e,"type","password"),r(e,"name","passwd"),r(e,"class","rounded-lg shadow-sm p-2 border border-gray-200"),r(e,"placeholder","Your password"),r(s,"class","flex flex-col mb-6"),r(f,"type","submit"),r(f,"class","rounded shadow-sm bg-teal-500 py-2 px-4 text-white"),f.disabled=l[4],r(v,"class","flex justify-end my-4"),r(a,"class","form my-6")},m(t,i){B(t,u,i),n(u,d),B(t,c,i),B(t,a,i),n(a,s),n(s,p),n(p,h),n(s,E),n(s,o),N(o,l[2]),n(s,A),n(s,e),N(e,l[3]),n(a,P),n(a,v),n(v,f),n(f,I),S||(F=[D(o,"input",l[5]),D(e,"input",l[6]),D(a,"submit",J(l[1]))],S=!0)},p(t,[i]){i&1&&Y(d,t[0]),i&4&&o.value!==t[2]&&N(o,t[2]),i&8&&e.value!==t[3]&&N(e,t[3]),i&1&&Y(I,t[0]),i&16&&(f.disabled=t[4])},i:q,o:q,d(t){t&&m(u),t&&m(c),t&&m(a),S=!1,K(F)}}}function Z(l,u,d){let c;Q(l,W,e=>d(7,c=e));let a="",s="",p=!1,{mode:h}=u;const E=async()=>{try{if(h=="Login"){d(4,p=!0);const{error:e}=await G.auth.signIn({email:a,password:s});if(e)throw e;M(c.url.origin+C)}else if(h=="Signup"){const{error:e}=await G.auth.signUp({email:a,password:s});if(e)throw e;M(c.url.origin+C),alert("Please check your email for a verification!")}else alert("Invalid authentication mode!")}catch(e){console.error(e),alert(e.error_description||e.message)}finally{d(4,p=!1)}};function o(){a=this.value,d(2,a)}function A(){s=this.value,d(3,s)}return l.$$set=e=>{"mode"in e&&d(0,h=e.mode)},[h,E,a,s,p,o,A]}class re extends R{constructor(u){super(),x(this,u,Z,X,z,{mode:0,handleAuth:1})}get handleAuth(){return this.$$.ctx[1]}}export{re as A};
