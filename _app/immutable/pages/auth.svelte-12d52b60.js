import{S as G,i as M,s as R,e as h,t as $,k as I,c as b,a as v,h as E,d as n,m as N,b as c,g as k,G as m,N as V,I as j,O as z,E as P,P as J,l as F,o as T,p as K,q as Y,H as Q,n as W,w as X,x as Z,y as ee,B as te}from"../chunks/index-949137de.js";import{s as le,u as se}from"../chunks/AuthStore-41696eed.js";import"../chunks/index-3726ae03.js";function ae(i){let e,l,t,s,y,u,o,a,f,g,S,p,A,x,_,B,O,q;return{c(){e=h("h1"),l=$("Login"),t=I(),s=h("p"),y=$("Sign in via a special link with your email below."),u=I(),o=h("form"),a=h("div"),f=h("label"),g=$("Email"),S=I(),p=h("input"),A=I(),x=h("div"),_=h("button"),B=$("Log In"),this.h()},l(r){e=b(r,"H1",{class:!0});var d=v(e);l=E(d,"Login"),d.forEach(n),t=N(r),s=b(r,"P",{class:!0});var C=v(s);y=E(C,"Sign in via a special link with your email below."),C.forEach(n),u=N(r),o=b(r,"FORM",{class:!0});var w=v(o);a=b(w,"DIV",{class:!0});var L=v(a);f=b(L,"LABEL",{for:!0,class:!0});var D=v(f);g=E(D,"Email"),D.forEach(n),S=N(L),p=b(L,"INPUT",{type:!0,name:!0,class:!0,placeholder:!0}),L.forEach(n),A=N(w),x=b(w,"DIV",{class:!0});var H=v(x);_=b(H,"BUTTON",{type:!0,class:!0});var U=v(_);B=E(U,"Log In"),U.forEach(n),H.forEach(n),w.forEach(n),this.h()},h(){c(e,"class","font-bold text-center text-2xl text-gray-800"),c(s,"class","text-center mt-2"),c(f,"for","email"),c(f,"class","font-bold text-gray-800"),c(p,"type","email"),c(p,"name","email"),c(p,"class","rounded-lg shadow-sm p-2 border border-gray-200"),c(p,"placeholder","Your email"),c(a,"class","flex flex-col mb-6"),c(_,"type","submit"),c(_,"class","rounded shadow-sm bg-teal-500 py-2 px-4 text-white"),_.disabled=i[2],c(x,"class","flex justify-end my-4"),c(o,"class","form my-6")},m(r,d){k(r,e,d),m(e,l),k(r,t,d),k(r,s,d),m(s,y),k(r,u,d),k(r,o,d),m(o,a),m(a,f),m(f,g),m(a,S),m(a,p),V(p,i[1]),m(o,A),m(o,x),m(x,_),m(_,B),O||(q=[j(p,"input",i[3]),j(o,"submit",z(i[0]))],O=!0)},p(r,[d]){d&2&&p.value!==r[1]&&V(p,r[1]),d&4&&(_.disabled=r[2])},i:P,o:P,d(r){r&&n(e),r&&n(t),r&&n(s),r&&n(u),r&&n(o),O=!1,J(q)}}}function re(i,e,l){let t="",s=!1;const y=async()=>{try{l(2,s=!0);const{error:o}=await le.auth.signIn({email:t});if(o)throw o;alert("Check your email for the login link!")}catch(o){console.error(o),alert(o.error_description||o.message)}finally{l(2,s=!1)}};function u(){t=this.value,l(1,t)}return[y,t,s,u]}class oe extends G{constructor(e){super(),M(this,e,re,ae,R,{handleLogin:0})}get handleLogin(){return this.$$.ctx[0]}}function ne(i){let e,l;return e=new oe({}),{c(){X(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,s){ee(e,t,s),l=!0},i(t){l||(Y(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){te(e,t)}}}function ie(i){let e,l;return{c(){e=h("p"),l=$("You've already logged in successfully!")},l(t){e=b(t,"P",{});var s=v(e);l=E(s,"You've already logged in successfully!"),s.forEach(n)},m(t,s){k(t,e,s),m(e,l)},i:P,o:P,d(t){t&&n(e)}}}function ue(i){let e,l,t,s;const y=[ie,ne],u=[];function o(a,f){return a[0]?0:1}return e=o(i),l=u[e]=y[e](i),{c(){l.c(),t=F()},l(a){l.l(a),t=F()},m(a,f){u[e].m(a,f),k(a,t,f),s=!0},p(a,[f]){let g=e;e=o(a),e!==g&&(W(),T(u[g],1,1,()=>{u[g]=null}),K(),l=u[e],l||(l=u[e]=y[e](a),l.c()),Y(l,1),l.m(t.parentNode,t))},i(a){s||(Y(l),s=!0)},o(a){T(l),s=!1},d(a){u[e].d(a),a&&n(t)}}}function ce(i,e,l){let t;return Q(i,se,s=>l(0,t=s)),[t]}class de extends G{constructor(e){super(),M(this,e,ce,ue,R,{})}}export{de as default};
