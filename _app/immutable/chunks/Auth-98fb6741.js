import{S as K,i as Q,s as W,e as h,t as j,k as U,c as _,a as y,h as B,d as c,m as L,b as s,g as H,F as l,_ as N,H as O,a1 as X,j as G,E as M,U as Z,G as $}from"./index-a60ce940.js";import{b as R}from"./paths-396f020f.js";import{p as ee}from"./stores-48bf501e.js";import{s as z}from"./AuthStore-8e5a7dcb.js";import{c as w}from"./singletons-d1fb5791.js";w.disable_scroll_handling;const J=w.goto;w.invalidate;w.prefetch;w.prefetch_routes;w.before_navigate;w.after_navigate;function te(o){let u,d,b,r,a,f,g,A,n,I,e,S,k,p,D,E,m,P,F,V;return{c(){u=h("h1"),d=j(o[0]),b=U(),r=h("form"),a=h("div"),f=h("label"),g=j("Email"),A=U(),n=h("input"),I=U(),e=h("label"),S=j("Password"),k=U(),p=h("input"),D=U(),E=h("div"),m=h("button"),P=j(o[0]),this.h()},l(t){u=_(t,"H1",{class:!0});var i=y(u);d=B(i,o[0]),i.forEach(c),b=L(t),r=_(t,"FORM",{class:!0});var T=y(r);a=_(T,"DIV",{class:!0});var v=y(a);f=_(v,"LABEL",{for:!0,class:!0});var Y=y(f);g=B(Y,"Email"),Y.forEach(c),A=L(v),n=_(v,"INPUT",{type:!0,name:!0,class:!0,placeholder:!0}),I=L(v),e=_(v,"LABEL",{for:!0,class:!0});var q=y(e);S=B(q,"Password"),q.forEach(c),k=L(v),p=_(v,"INPUT",{type:!0,name:!0,class:!0,placeholder:!0}),v.forEach(c),D=L(T),E=_(T,"DIV",{class:!0});var x=y(E);m=_(x,"BUTTON",{type:!0,class:!0});var C=y(m);P=B(C,o[0]),C.forEach(c),x.forEach(c),T.forEach(c),this.h()},h(){s(u,"class","font-bold text-center text-2xl text-gray-800"),s(f,"for","email"),s(f,"class","font-bold text-gray-800"),s(n,"type","email"),s(n,"name","email"),s(n,"class","rounded-lg shadow-sm p-2 border border-gray-200"),s(n,"placeholder","Your email"),s(e,"for","passwd"),s(e,"class","font-bold text-gray-800"),s(p,"type","password"),s(p,"name","passwd"),s(p,"class","rounded-lg shadow-sm p-2 border border-gray-200"),s(p,"placeholder","Your password"),s(a,"class","flex flex-col mb-6 justify-around"),s(m,"type","submit"),s(m,"class","rounded shadow-sm bg-teal-500 py-2 px-4 text-white"),m.disabled=o[4],s(E,"class","flex justify-end my-4"),s(r,"class","form my-6")},m(t,i){H(t,u,i),l(u,d),H(t,b,i),H(t,r,i),l(r,a),l(a,f),l(f,g),l(a,A),l(a,n),N(n,o[2]),l(a,I),l(a,e),l(e,S),l(a,k),l(a,p),N(p,o[3]),l(r,D),l(r,E),l(E,m),l(m,P),F||(V=[O(n,"input",o[5]),O(p,"input",o[6]),O(r,"submit",X(o[1]))],F=!0)},p(t,[i]){i&1&&G(d,t[0]),i&4&&n.value!==t[2]&&N(n,t[2]),i&8&&p.value!==t[3]&&N(p,t[3]),i&1&&G(P,t[0]),i&16&&(m.disabled=t[4])},i:M,o:M,d(t){t&&c(u),t&&c(b),t&&c(r),F=!1,Z(V)}}}function ae(o,u,d){let b;$(o,ee,e=>d(7,b=e));let r="",a="",f=!1,{mode:g}=u;const A=async()=>{try{if(g=="Login"){d(4,f=!0);const{error:e}=await z.auth.signIn({email:r,password:a});if(e)throw e;J(b.url.origin+R)}else if(g=="Sign Up"){const{error:e}=await z.auth.signUp({email:r,password:a});if(e)throw e;J(b.url.origin+R),alert("Please check your email for a verification!")}else alert("Invalid authentication mode!")}catch(e){console.error(e),alert(e.error_description||e.message)}finally{d(4,f=!1)}};function n(){r=this.value,d(2,r)}function I(){a=this.value,d(3,a)}return o.$$set=e=>{"mode"in e&&d(0,g=e.mode)},[g,A,r,a,f,n,I]}class ie extends K{constructor(u){super(),Q(this,u,ae,te,W,{mode:0,handleAuth:1})}get handleAuth(){return this.$$.ctx[1]}}export{ie as A};
