import{S as J,i as K,s as Q,e as h,t as j,k as L,c as _,a as y,h as B,d as c,m as P,b as s,g as O,G as l,a0 as N,I as V,a3 as X,j as G,E as M,W as Z,H as $}from"./index-3f878f62.js";import{b as R}from"./paths-1b606c50.js";import{p as ee}from"./stores-a92cdb96.js";import{s as W}from"./supabase-13ad4d92.js";import{c as w}from"./singletons-d1fb5791.js";w.disable_scroll_handling;const z=w.goto;w.invalidate;w.prefetch;w.prefetch_routes;w.before_navigate;w.after_navigate;function te(o){let u,d,b,r,a,f,g,A,n,I,e,S,k,p,D,E,m,U,H,Y;return{c(){u=h("h1"),d=j(o[0]),b=L(),r=h("form"),a=h("div"),f=h("label"),g=j("Email"),A=L(),n=h("input"),I=L(),e=h("label"),S=j("Password"),k=L(),p=h("input"),D=L(),E=h("div"),m=h("button"),U=j(o[0]),this.h()},l(t){u=_(t,"H1",{class:!0});var i=y(u);d=B(i,o[0]),i.forEach(c),b=P(t),r=_(t,"FORM",{class:!0});var T=y(r);a=_(T,"DIV",{class:!0});var v=y(a);f=_(v,"LABEL",{for:!0,class:!0});var q=y(f);g=B(q,"Email"),q.forEach(c),A=P(v),n=_(v,"INPUT",{type:!0,name:!0,class:!0,placeholder:!0}),I=P(v),e=_(v,"LABEL",{for:!0,class:!0});var x=y(e);S=B(x,"Password"),x.forEach(c),k=P(v),p=_(v,"INPUT",{type:!0,name:!0,class:!0,placeholder:!0}),v.forEach(c),D=P(T),E=_(T,"DIV",{class:!0});var C=y(E);m=_(C,"BUTTON",{type:!0,class:!0});var F=y(m);U=B(F,o[0]),F.forEach(c),C.forEach(c),T.forEach(c),this.h()},h(){s(u,"class","font-bold text-center text-2xl text-gray-800"),s(f,"for","email"),s(f,"class","font-bold text-gray-800"),s(n,"type","email"),s(n,"name","email"),s(n,"class","rounded-lg shadow-sm p-2 border border-gray-200"),s(n,"placeholder","Your email"),s(e,"for","passwd"),s(e,"class","font-bold text-gray-800"),s(p,"type","password"),s(p,"name","passwd"),s(p,"class","rounded-lg shadow-sm p-2 border border-gray-200"),s(p,"placeholder","Your password"),s(a,"class","flex flex-col mb-6 justify-around"),s(m,"type","submit"),s(m,"class","rounded shadow-sm bg-teal-500 py-2 px-4 text-white"),m.disabled=o[4],s(E,"class","flex justify-end my-4"),s(r,"class","form my-6")},m(t,i){O(t,u,i),l(u,d),O(t,b,i),O(t,r,i),l(r,a),l(a,f),l(f,g),l(a,A),l(a,n),N(n,o[2]),l(a,I),l(a,e),l(e,S),l(a,k),l(a,p),N(p,o[3]),l(r,D),l(r,E),l(E,m),l(m,U),H||(Y=[V(n,"input",o[5]),V(p,"input",o[6]),V(r,"submit",X(o[1]))],H=!0)},p(t,[i]){i&1&&G(d,t[0]),i&4&&n.value!==t[2]&&N(n,t[2]),i&8&&p.value!==t[3]&&N(p,t[3]),i&1&&G(U,t[0]),i&16&&(m.disabled=t[4])},i:M,o:M,d(t){t&&c(u),t&&c(b),t&&c(r),H=!1,Z(Y)}}}function ae(o,u,d){let b;$(o,ee,e=>d(7,b=e));let r="",a="",f=!1,{mode:g}=u;const A=async()=>{try{if(g=="Login"){d(4,f=!0);const{error:e}=await W.auth.signIn({email:r,password:a});if(e)throw e;z(b.url.origin+R)}else if(g=="Sign Up"){const{error:e}=await W.auth.signUp({email:r,password:a});if(e)throw e;z(b.url.origin+R),alert("Please check your email for a verification!")}else alert("Invalid authentication mode!")}catch(e){console.error(e),alert(e.error_description||e.message)}finally{d(4,f=!1)}};function n(){r=this.value,d(2,r)}function I(){a=this.value,d(3,a)}return o.$$set=e=>{"mode"in e&&d(0,g=e.mode)},[g,A,r,a,f,n,I]}class ie extends J{constructor(u){super(),K(this,u,ae,te,Q,{mode:0,handleAuth:1})}get handleAuth(){return this.$$.ctx[1]}}export{ie as A};
